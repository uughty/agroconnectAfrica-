{% extends "products/base_products.html" %}

{% block title %}{% if mode == "edit" %}Edit Product{% else %}Add Product{% endif %} â€” AgroConnectAfrica{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold text-green-700 mb-6">
  {% if mode == "edit" %}Edit Product{% else %}Add Product{% endif %}
</h1>

<form method="post" enctype="multipart/form-data" class="bg-white rounded shadow p-6 space-y-4">
  {% csrf_token %}
  {{ form.non_field_errors }}

  <div>
    <label class="block font-semibold mb-1">Name</label>
    {{ form.name }}
    {{ form.name.errors }}
  </div>

  <div>
    <label class="block font-semibold mb-1">Description</label>
    {{ form.description }}
    {{ form.description.errors }}
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <label class="block font-semibold mb-1">Price</label>
      {{ form.price }}
      {{ form.price.errors }}
    </div>
    <div>
      <label class="block font-semibold mb-1">Category</label>
      {{ form.category }}
      {{ form.category.errors }}
    </div>
  </div>

  <div>
    <label class="block font-semibold mb-1">Image</label>
    {{ form.image }}
    {{ form.image.errors }}
  </div>

  <div class="flex gap-3">
    <button class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700" type="submit">
      {% if mode == "edit" %}Save Changes{% else %}Create Product{% endif %}
    </button>
    <a href="{% url 'my_products' %}" class="px-4 py-2 border rounded">Cancel</a>
  </div>
</form>
{% endblock %}
